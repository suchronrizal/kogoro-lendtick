<div class="card card-custom gutter-b">
	<div class="card-header">
		<div class="card-title">
			<h5 class="card-label">Daftar Perusahaan</h5>
		</div>
	</div>
	<div class="card-body">
		<div class="row">
			<div class="col-md-9">
				<button pButton (click)="displayForm = true; isEdit = true; objDetail = {}" class="ui-button ui-button-raised" label="Daftar Baru"></button>
			</div>
			<div class="col-md-3">
				<input pInputText class="form-control" placeholder="Search Daftar Perusahaan" />
			</div>
		</div>
		<div class="row pt-5">
			<div class="col-md-12">
				<p-table [responsive]="true" [columns]="columns" [value]="data" rows="25" [paginator]="true">
					<ng-template pTemplate="header" let-columns>
						<tr>
							<th class="text-center" width="10%">Action</th>
							<th class="text-center" width="5%">No</th>
							<th class="text-center" *ngFor="let col of columns">{{ col.header }}</th>
						</tr>
					</ng-template>
					<ng-template pTemplate="body" let-rowData let-i="rowIndex" let-columns="columns">
						<tr class="ui-selectable-row">
							<td class="text-center"><button pButton type="button" (click)="displayForm = true; showDetail(rowData)" class="ui-button-primary" icon="pi pi-cog"></button></td>
							<td class="text-center">{{ i + 1 }}</td>
							<td *ngFor="let col of columns" [ngSwitch]="col.field">
								<span *ngSwitchCase="'loan_power'">Rp. {{ rowData.loan_power | number: '1.0-6' }}</span>
								<span *ngSwitchDefault>{{ rowData[col.field] }}</span>
							</td>
						</tr>
					</ng-template>
				</p-table>
			</div>
		</div>
	</div>
</div>
<p-dialog [(visible)]="displayForm" header="Form Daftar Perusahaan" [style]="{ width: '50vw' }" [modal]="true" [draggable]="false" [resizable]="false">
	<div class="form-row">
		<div class="col-md-6">
			<div class="p-field">
				<label for="companyName">Company Name</label>
				<input pInputText class="form-control" [(ngModel)]="objDetail.name_company" type="text" />
			</div>
			<div class="p-field">
				<label for="companyName">Parent Company</label>
				<p-dropdown styleClass="form-control" placeholder="Select a City" [options]="arrParentCompany"></p-dropdown>
			</div>
			<div class="p-field">
				<label for="companyName">Phone Number</label>
				<input pInputText class="form-control" [(ngModel)]="objDetail.phone_number" type="text" />
			</div>
			<div class="p-field">
				<label for="companyName">Loan Power</label>
				<input pInputText class="form-control" [(ngModel)]="objDetail.loan_power" type="text" />
			</div>
			<div class="p-field">
				<label for="companyName">Address</label>
				<textarea pInputText class="form-control" [(ngModel)]="objDetail.address" type="text"></textarea>
			</div>
			<div class="p-field">
				<p-checkbox name="group1" value="New York" label="Is Kopnit" inputId="ny"></p-checkbox>
			</div>
		</div>
		<div class="col-md-6">
			<div class="p-field">
				<label for="companyName">PIC Email I</label>
				<input pInputText class="form-control" [(ngModel)]="objDetail.pic_email" type="text" />
			</div>
			<div class="p-field">
				<label for="companyName">PIC Email 2</label>
				<input pInputText class="form-control" [(ngModel)]="objDetail.pic_email" type="text" />
			</div>
			<div class="p-field">
				<label for="companyName">PIC Email 3</label>
				<input pInputText class="form-control" [(ngModel)]="objDetail.pic_email" type="text" />
			</div>
			<div class="p-field">
				<label for="companyName">PIC Email 4</label>
				<input pInputText class="form-control" [(ngModel)]="objDetail.pic_email" type="text" />
			</div>
			<div class="p-field">
				<label for="companyName">PIC Email 5</label>
				<input pInputText class="form-control" [(ngModel)]="objDetail.pic_email" type="text" />
			</div>
			<div class="p-field">
				<label for="companyName">PIC Email 6</label>
				<input pInputText class="form-control" [(ngModel)]="objDetail.pic_email" type="text" />
			</div>
		</div>
	</div>

	<p-footer>
		<button type="button" pButton icon="pi pi-check" (click)="displayForm = false" label="Yes"></button>
		<button type="button" pButton icon="pi pi-times" (click)="displayForm = false" label="No" class="ui-button-secondary"></button>
	</p-footer>
</p-dialog>
